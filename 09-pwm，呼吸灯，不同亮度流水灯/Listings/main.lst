C51 COMPILER V9.60.7.0   MAIN                                                              03/30/2024 11:09:47 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\main
                    -.lst) OBJECT(.\Objects\main.obj)

line level    source

   1          #include <STC15F2K60S2.H>
   2          
   3          #include "timer1.h"
   4          #include "led.h"
   5          #include "p0init.h"
   6          #include "typedef.h"
   7          #include "pwmtimer2.h"
   8          
   9          //static u8 percent = 0;
  10          u8 exvalue[] = {12,25,37,50,62,75,87,99};//
  11          extern u8 i;//
  12          
  13          //主函数在这里！
  14          void main()
  15          {
  16   1              p0init();
  17   1              timer1init(2);
  18   1              timer2init();
  19   1              while(1)
  20   1              {
  21   2                      
  22   2              }
  23   1      }
  24          
  25          
  26          //这里是定时器1中断函数
  27          void interrupttimer1() interrupt 3
  28          {
  29   1      //      static u8 count1=0;
  30   1      //      static u8 flag = 0;
  31   1              static u8 count2=0;
  32   1      //      count1++;
  33   1              count2++;
  34   1      //      if(count1>12)//呼吸调速
  35   1      //      {
  36   1      //              count1=0;
  37   1      //              if(percent == 99) flag = 1;
  38   1      //              if(percent == 1) flag = 0;
  39   1      //              switch(flag){
  40   1      //                      case 0:percent++;break;
  41   1      //                      case 1:percent--;break;
  42   1      //              }
  43   1      //      }
  44   1              if(count2>249)//流水灯调速
  45   1                      {count2=0;ledflow();}
  46   1      }
  47          
  48          //这里是定时器0（pwm）中断函数
  49          void interrupttimer0() interrupt 12
  50          {
  51   1              pwm(100,exvalue[i]);//
  52   1      }
  53          
  54          //在前的是一种led呼吸流水灯
C51 COMPILER V9.60.7.0   MAIN                                                              03/30/2024 11:09:47 PAGE 2   

  55          //在后的是另外一种


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    152    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      9    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
